timely.require(["scripts/calendar","scripts/common_scripts/frontend/common_frontend","scripts/calendar/event","domReady","jquery_timely","ai1ec_calendar"],function(e,t,n,r,i,s){var o=s.calendar_url;i("div.timely-calendar:first").on("click",".ai1ec-load-event[data-type=jsonp]",n.load_event_through_jsonp),i("div.timely-calendar:first").each(function(r,s){var u=n.create_ai1ec_to_send(s),a={ai1ec_doing_ajax:!0,request_type:"jsonp",ai1ec:u};i.ajax({url:o,dataType:"jsonp",data:a,success:function(n){var r=i("<div/>",{id:"ai1ec-calendar-view-container"}),o=i("<div/>",{"class":"timely"}),u=i("<div/>",{id:"ai1ec-calendar-view-loading","class":"ai1ec-loading"}),a=i("<div/>",{id:"ai1ec-calendar-view"});a.append(n.html),r.append(u).append(a),o.append(r).append(n.subscribe_buttons),i(s).append(o),t.are_event_listeners_attached()||t.start(),e.start()},error:function(e,t,n){window.alert("An error occurred while retrieving the calendar data.")}})})}),timely.define("main_widget",function(){});